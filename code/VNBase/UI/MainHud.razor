@using Sandbox;
@using System;
@using System.Linq;

@namespace VNBase.UI

@attribute [Title("VN Main Hud")]
@inherits PanelComponent

@if ( Player.ActiveScript != null )
{
    <root style="background-image: url('@(Player.Background)')">
        <CharacterPortraits Player="@Player"/>
        <Choices class="centered" Player="@Player"/>
        <DialogueBox Player="@Player"/>
        <ControlPanel Player="@Player"/>
    </root> 
}

@code {
    [Property] public ScriptPlayer Player => Scene.GetAllComponents<ScriptPlayer>().First();

    protected override int BuildHash()
    {
        return HashCode.Combine(Player.Background);
    }
}
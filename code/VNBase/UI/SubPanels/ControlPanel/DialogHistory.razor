@using Sandbox;
@using Sandbox.UI;
@using Sandbox.UI.Construct;
@using System;
@using System.Linq;
@using System.Collections.Generic;
@using SandLang;

@namespace VNBase.UI

@attribute [StyleSheet("/VNBase/UI/SubPanels/ControlPanel/DialogHistory.scss")]
@inherits ControlSubPanel

<root>
    <label class="title">History</label>

    @if (Player.DialogHistory != null)
    {
        <div class="history">
            @for (var i = 0; i < Player.DialogHistory.Count; i++)
            {
                <div class="dialogue">
                    <div class="text">@Player.DialogHistory[i]</div>
                </div>
            }
        </div>
    }
</root>

@code {
    private static Pawn Player => Game.LocalPawn as Pawn;

    protected override int BuildHash()
    {
        return HashCode.Combine(Open, Player.DialogHistory);
    }
}
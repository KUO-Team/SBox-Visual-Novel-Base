@using Sandbox;
@using Sandbox.UI;
@using Sandbox.UI.Construct;
@using System;
@using System.Linq;
@using System.Collections.Generic;
@using SandLang;

@namespace VNBase.UI

@attribute [StyleSheet]
@inherits ControlSubPanel

<root>
    <label class="title">History</label>

    @if (Player.DialogHistory != null)
    {
        <div class="history">
            @foreach (var dialog in Player.DialogHistory)
            {
                <div class="dialogue">
                    <div class="text">@dialog</div>
                </div>
            }
        </div>
    }
</root>

@code {
    private static Pawn Player => Game.LocalPawn as Pawn;

    protected override int BuildHash()
    {
        return HashCode.Combine(Open, Player.DialogHistory);
    }
}